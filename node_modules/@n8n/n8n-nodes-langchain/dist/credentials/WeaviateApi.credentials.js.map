{"version":3,"sources":["../../credentials/WeaviateApi.credentials.ts"],"sourcesContent":["import type { ICredentialTestRequest, ICredentialType, INodeProperties } from 'n8n-workflow';\n\nexport class WeaviateApi implements ICredentialType {\n\tname = 'weaviateApi';\n\n\tdisplayName = 'Weaviate Credentials';\n\n\tdocumentationUrl = 'https://docs.n8n.io/integrations/builtin/credentials/weaviate/';\n\n\tproperties: INodeProperties[] = [\n\t\t{\n\t\t\tdisplayName: 'Connection Type',\n\t\t\tname: 'connection_type',\n\t\t\ttype: 'options',\n\t\t\toptions: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Weaviate Cloud',\n\t\t\t\t\tvalue: 'weaviate_cloud',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'Custom Connection',\n\t\t\t\t\tvalue: 'custom_connection',\n\t\t\t\t},\n\t\t\t],\n\t\t\tdefault: 'weaviate_cloud',\n\t\t\tdescription:\n\t\t\t\t'Choose whether to connect to a Weaviate Cloud instance or a custom Weaviate instance.',\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Weaviate Cloud Endpoint',\n\t\t\tname: 'weaviate_cloud_endpoint',\n\t\t\tdescription: 'The Endpoint of a Weaviate Cloud instance.',\n\t\t\tplaceholder: 'https://your-cluster.weaviate.cloud',\n\t\t\ttype: 'string',\n\t\t\trequired: true,\n\t\t\tdefault: '',\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tconnection_type: ['weaviate_cloud'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Weaviate Api Key',\n\t\t\tname: 'weaviate_api_key',\n\t\t\tdescription: 'The API key for the Weaviate instance.',\n\t\t\ttype: 'string',\n\t\t\ttypeOptions: { password: true },\n\t\t\tdefault: '',\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Custom Connection HTTP Host',\n\t\t\tname: 'custom_connection_http_host',\n\t\t\tdescription: 'The host of your Weaviate instance.',\n\t\t\ttype: 'string',\n\t\t\trequired: true,\n\t\t\tdefault: 'weaviate',\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tconnection_type: ['custom_connection'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Custom Connection HTTP Port',\n\t\t\tname: 'custom_connection_http_port',\n\t\t\tdescription: 'The port of your Weaviate instance.',\n\t\t\ttype: 'number',\n\t\t\trequired: true,\n\t\t\tdefault: 8080,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tconnection_type: ['custom_connection'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Custom Connection HTTP Secure',\n\t\t\tname: 'custom_connection_http_secure',\n\t\t\tdescription: 'Whether to use a secure connection for HTTP.',\n\t\t\ttype: 'boolean',\n\t\t\trequired: true,\n\t\t\tdefault: false,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tconnection_type: ['custom_connection'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Custom Connection gRPC Host',\n\t\t\tname: 'custom_connection_grpc_host',\n\t\t\tdescription: 'The gRPC host of your Weaviate instance.',\n\t\t\ttype: 'string',\n\t\t\trequired: true,\n\t\t\tdefault: 'weaviate',\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tconnection_type: ['custom_connection'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Custom Connection gRPC Port',\n\t\t\tname: 'custom_connection_grpc_port',\n\t\t\tdescription: 'The gRPC port of your Weaviate instance.',\n\t\t\ttype: 'number',\n\t\t\trequired: true,\n\t\t\tdefault: 50051,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tconnection_type: ['custom_connection'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Custom Connection gRPC Secure',\n\t\t\tname: 'custom_connection_grpc_secure',\n\t\t\tdescription: 'Whether to use a secure connection for gRPC.',\n\t\t\ttype: 'boolean',\n\t\t\trequired: true,\n\t\t\tdefault: false,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tconnection_type: ['custom_connection'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t];\n\n\ttest: ICredentialTestRequest = {\n\t\trequest: {\n\t\t\tbaseURL:\n\t\t\t\t'={{$credentials.weaviate_cloud_endpoint?$credentials.weaviate_cloud_endpoint.startsWith(\"http://\") || $credentials.weaviate_cloud_endpoint.startsWith(\"https://\")?$credentials.weaviate_cloud_endpoint:\"https://\" + $credentials.weaviate_cloud_endpoint:($credentials.custom_connection_http_secure ? \"https\" : \"http\") + \"://\" + $credentials.custom_connection_http_host + \":\" + $credentials.custom_connection_http_port }}',\n\t\t\turl: '/v1/nodes',\n\t\t\tdisableFollowRedirect: false,\n\t\t\theaders: {\n\t\t\t\tAuthorization:\n\t\t\t\t\t'={{$if($credentials.weaviate_api_key, \"Bearer \" + $credentials.weaviate_api_key, undefined)}}',\n\t\t\t},\n\t\t},\n\t};\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,MAAM,YAAuC;AAAA,EAA7C;AACN,gBAAO;AAEP,uBAAc;AAEd,4BAAmB;AAEnB,sBAAgC;AAAA,MAC/B;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,UACR;AAAA,YACC,MAAM;AAAA,YACN,OAAO;AAAA,UACR;AAAA,UACA;AAAA,YACC,MAAM;AAAA,YACN,OAAO;AAAA,UACR;AAAA,QACD;AAAA,QACA,SAAS;AAAA,QACT,aACC;AAAA,MACF;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,aAAa;AAAA,QACb,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,gBAAgB;AAAA,UACf,MAAM;AAAA,YACL,iBAAiB,CAAC,gBAAgB;AAAA,UACnC;AAAA,QACD;AAAA,MACD;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa,EAAE,UAAU,KAAK;AAAA,QAC9B,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,gBAAgB;AAAA,UACf,MAAM;AAAA,YACL,iBAAiB,CAAC,mBAAmB;AAAA,UACtC;AAAA,QACD;AAAA,MACD;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,gBAAgB;AAAA,UACf,MAAM;AAAA,YACL,iBAAiB,CAAC,mBAAmB;AAAA,UACtC;AAAA,QACD;AAAA,MACD;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,gBAAgB;AAAA,UACf,MAAM;AAAA,YACL,iBAAiB,CAAC,mBAAmB;AAAA,UACtC;AAAA,QACD;AAAA,MACD;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,gBAAgB;AAAA,UACf,MAAM;AAAA,YACL,iBAAiB,CAAC,mBAAmB;AAAA,UACtC;AAAA,QACD;AAAA,MACD;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,gBAAgB;AAAA,UACf,MAAM;AAAA,YACL,iBAAiB,CAAC,mBAAmB;AAAA,UACtC;AAAA,QACD;AAAA,MACD;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,gBAAgB;AAAA,UACf,MAAM;AAAA,YACL,iBAAiB,CAAC,mBAAmB;AAAA,UACtC;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAEA,gBAA+B;AAAA,MAC9B,SAAS;AAAA,QACR,SACC;AAAA,QACD,KAAK;AAAA,QACL,uBAAuB;AAAA,QACvB,SAAS;AAAA,UACR,eACC;AAAA,QACF;AAAA,MACD;AAAA,IACD;AAAA;AACD;","names":[]}