{"version":3,"sources":["../../utils/tracing.ts"],"sourcesContent":["import type { BaseCallbackConfig } from '@langchain/core/callbacks/manager';\nimport type { IExecuteFunctions } from 'n8n-workflow';\n\ninterface TracingConfig {\n\tadditionalMetadata?: Record<string, unknown>;\n}\n\nexport function getTracingConfig(\n\tcontext: IExecuteFunctions,\n\tconfig: TracingConfig = {},\n): BaseCallbackConfig {\n\tconst parentRunManager = context.getParentCallbackManager\n\t\t? context.getParentCallbackManager()\n\t\t: undefined;\n\n\treturn {\n\t\trunName: `[${context.getWorkflow().name}] ${context.getNode().name}`,\n\t\tmetadata: {\n\t\t\texecution_id: context.getExecutionId(),\n\t\t\tworkflow: context.getWorkflow(),\n\t\t\tnode: context.getNode().name,\n\t\t\t...(config.additionalMetadata ?? {}),\n\t\t},\n\t\tcallbacks: parentRunManager,\n\t};\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAOO,SAAS,iBACf,SACA,SAAwB,CAAC,GACJ;AACrB,QAAM,mBAAmB,QAAQ,2BAC9B,QAAQ,yBAAyB,IACjC;AAEH,SAAO;AAAA,IACN,SAAS,IAAI,QAAQ,YAAY,EAAE,IAAI,KAAK,QAAQ,QAAQ,EAAE,IAAI;AAAA,IAClE,UAAU;AAAA,MACT,cAAc,QAAQ,eAAe;AAAA,MACrC,UAAU,QAAQ,YAAY;AAAA,MAC9B,MAAM,QAAQ,QAAQ,EAAE;AAAA,MACxB,GAAI,OAAO,sBAAsB,CAAC;AAAA,IACnC;AAAA,IACA,WAAW;AAAA,EACZ;AACD;","names":[]}